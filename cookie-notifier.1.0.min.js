/**
 * COOKIE NOTIFIER
 *
 * @author Emanuele Tortolone - www.fillstudio.com
 * @version 1.0 - 23/07/2013
 */ 
(function(){var b=window.CookieNotifier||(window.CookieNotifier={});b.init=function(c){return(c=(null!=c)?c:{args:null},this.context=c.context||"wrapper",this.html=c.html||"I cookie ci aiutano a fornire i nostri servizi. Utilizzando tali servizi, accetti l'utilizzo dei cookie da parte nostra.",this.linkURL=c.linkURL||"#",this.linkLabel=c.linkLabel||"Condizioni",this.acceptLabel=c.acceptLabel||"OK",this.defaultCss={width:"98%",padding:"0 1%",height:"auto",lineHeight:"40px",backgroundColor:"#000000",fontFamily:"sans-serif",fontSize:"12px",textAlign:"center"},this.defaultButtonsCss={display:"inline-block",margin:"0 5px",padding:"0 5px",height:"20px",lineHeight:"20px",backgroundColor:"#666666",fontFamily:"sans-serif",fontSize:"12px",color:"#FFFFFF",textDecoration:"none"},this.css=this.mergeOptions(this.defaultCss,c.css||{}),this.buttonsCss=this.mergeOptions(this.defaultButtonsCss,c.buttonsCss||{}),this.checkCookie())},b.checkCookie=function(){if(!this.hasCookie()){this.buildView()}},b.buildView=function(d){var f=document.getElementById(this.context);var i=f.children[0];var c=document.createElement("div");c.innerHTML=this.html;c.id="cookie-notifier";c.className="block";for(var h in this.css){c.style[h]=this.css[h]}if(this.linkURL=="#"){alert("CookieNotifier - Error\nSet a valid URL to privacy-policy page.")}var e=document.createElement("a");e.innerHTML=this.linkLabel;e.href=this.linkURL;var g=document.createElement("a");g.innerHTML=this.acceptLabel;g.href="javascript:void(0);";g.onclick=function(k){var a=k||window.event;window.CookieNotifier.close(a)};for(var j in this.buttonsCss){e.style[j]=g.style[j]=this.buttonsCss[j]}c.appendChild(e);c.appendChild(g);return f.insertBefore(c,i)},b.mergeOptions=function(e,d){var c={};for(var a in e){c[a]=e[a]}for(var a in d){c[a]=d[a]}return c},b.close=function(c){b.setCookie(document.location.hostname.replace("www.",""),"cookies-accepted",30);var a=document.getElementById("cookie-notifier");a.parentNode.removeChild(a);return false},b.setCookie=function(d,e,f){var a;if(f){var c=new Date();c.setTime(c.getTime()+(f*24*60*60*1000));a="; expires="+c.toGMTString()}else{a=""}document.cookie=d+"="+e+a+"; path=/; domain="+d+";"},b.getCookie=function(d){var f=d+"=";var a=document.cookie.split(";");for(var e=0;e<a.length;e++){var g=a[e];while(g.charAt(0)===" "){g=g.substring(1,g.length)}if(g.indexOf(f)===0){return g.substring(f.length,g.length)}}return null},b.hasCookie=function(){return this.getCookie(document.location.hostname.replace("www.",""))!=null},b.deleteCookie=function(){this.setCookie(document.location.hostname.replace("www.",""),"",-1);document.location.reload();return false}}).call(this);